(function(k,e){function q(a){a=a.slice();for(let b=a.length-1;0<b;b--){const d=Math.floor(Math.random()*(b+1));[a[b],a[d]]=[a[d],a[b]]}return a}function l(a,b,d){a=e.createElement(a);a.className=b;a.innerHTML=d;return a}function y(){function a(d){return 9<d?d:"0"+d}let b=0;r=setInterval(function(){e.getElementById("seconds").innerHTML=a(++b%60);e.getElementById("minutes").innerHTML=a(parseInt(b/60,10))},1E3)}function z(){p=q(m.concat(m));p.forEach(a=>{const b=new l("DIV","wrpko",""),d=new l("DIV",
"korta","");a=new l("DIV","galas "+a,"");const g=new l("DIV","priekis","");b.appendChild(d).appendChild(a);d.appendChild(g);t.appendChild(b)});h.appendChild(t);y()}function u(){const a=[];for(let b=0;b<k.localStorage.length;b++)a.push(k.localStorage.getItem(k.localStorage.key(b)));a.sort((b,d)=>b.localeCompare(d));return a}function v(a){n.classList.add("hidden");a=new l("button","btn",a);a.onclick=()=>{z();f.style.display="none";n.classList.remove("hidden")};f.appendChild(a)}function w(){f.innerHTML+=
"<h3>Best score: "+c.data.shift()+"</h3>";f.innerHTML+="<h3>Other scores: "+c.data.join(", ")+"</h3>"}const m="abcdefgjkl".split("");let p=q(m.concat(m));const t=e.createDocumentFragment(),h=e.getElementById("grid-container"),f=e.getElementById("message"),n=e.getElementById("time"),x=e.getElementById("clicks"),c={data:null,h:null,i:0,g:0};let r=0;e.addEventListener("click",a=>{const b=a.target;if(b.classList.contains("korta")){c.g||(c.h=a.target);if(2===c.g)return!1;++c.g;const d=.5<=Math.round(Math.random())?
"pasukti":"pasukti1";b.className+=" "+d;if(2===c.g)if(c.i+=1,x.innerHTML=c.i,h.style.pointerEvents="none",c.h.firstChild.className===b.firstChild.className){let g=setTimeout(()=>{clearTimeout(g);g=0;b.classList.add("blur");c.h.classList.add("blur");c.g=0;h.style.pointerEvents="auto";h.getElementsByClassName("blur").length===p.length&&(clearInterval(r),f.innerHTML=`<h2>Your time: ${n.textContent}</h2>`,c.data=u(),c.data.length&&w(),h.innerHTML="",v("Play again"),k.localStorage.setItem(`time${k.localStorage.length+
1}`,n.textContent),f.style.display="block")},300)}else{let g=setTimeout(()=>{clearTimeout(g);g=0;b.classList.remove(d);c.h.className="korta";c.g=0;h.style.pointerEvents="auto"},900)}}});e.addEventListener("DOMContentLoaded",function(){c.data=u();c.data.length&&w();v("Start");x.innerHTML=c.i})})(window,document);
