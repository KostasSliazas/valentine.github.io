(function(k,e){function p(a){a=a.slice();for(let b=a.length-1;0<b;b--){const d=Math.floor(Math.random()*(b+1));[a[b],a[d]]=[a[d],a[b]]}return a}function l(a,b,d){a=e.createElement(a);a.className=b;a.innerHTML=d;return a}function z(){function a(d){return 9<d?d:"0"+d}let b=0;q=setInterval(function(){e.getElementById("seconds").innerHTML=a(++b%60);e.getElementById("minutes").innerHTML=a(parseInt(b/60,10))},1E3)}function A(){n=p(m.concat(m));n.forEach(a=>{const b=new l("DIV","wrpko",""),d=new l("DIV",
"korta","");a=new l("DIV","galas "+a,"");const g=new l("DIV","priekis","");b.appendChild(d).appendChild(a);d.appendChild(g);r.appendChild(b)});h.appendChild(r);z();t.innerHTML=c.h}function u(){const a=[];for(let b=0;b<k.localStorage.length;b++)a.push(k.localStorage.getItem(k.localStorage.key(b)));a.sort((b,d)=>b.localeCompare(d));return a}function v(a){w.classList.add("hidden");a=new l("button","btn",a);a.onclick=()=>{A();f.style.display="none";w.classList.remove("hidden")};f.appendChild(a)}function x(){1<
c.data.length&&(f.innerHTML+="<h3>Best score: "+c.data.shift()+"</h3>",f.innerHTML+="<h3>Other scores: "+c.data.join(", ")+"</h3>")}const m="abcdefgjkl".split("");let n=p(m.concat(m));const r=e.createDocumentFragment(),h=e.getElementById("grid-container"),f=e.getElementById("message"),w=e.getElementById("statistics"),y=e.getElementById("timers"),t=e.getElementById("clicks"),c={data:null,i:null,h:0,g:0};let q=0;e.addEventListener("click",a=>{const b=a.target;if(b.classList.contains("korta")){c.g||
(c.i=a.target);if(2===c.g)return!1;++c.g;const d=.5<=Math.round(Math.random())?"pasukti":"pasukti1";b.className+=" "+d;if(2===c.g)if(c.h+=1,t.innerHTML=c.h,h.style.pointerEvents="none",c.i.firstChild.className===b.firstChild.className){let g=setTimeout(()=>{clearTimeout(g);g=0;b.classList.add("blur");c.i.classList.add("blur");c.g=0;h.style.pointerEvents="auto";h.getElementsByClassName("blur").length===n.length&&(clearInterval(q),f.innerHTML=`<h2>Your time: ${y.textContent}</h2>`,k.localStorage.setItem(`time${k.localStorage.length+
1}`,y.textContent),c.data=u(),x(),h.innerHTML="",v("Play again"),f.style.display="block",c.h=0)},300)}else{let g=setTimeout(()=>{clearTimeout(g);g=0;b.classList.remove(d);c.i.className="korta";c.g=0;h.style.pointerEvents="auto"},900)}}});e.addEventListener("DOMContentLoaded",function(){c.data=u();x();v("Start")})})(window,document);
