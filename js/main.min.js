(function(h,e){function p(a){a=a.slice();for(let b=a.length-1;0<b;b--){const d=Math.floor(Math.random()*(b+1));[a[b],a[d]]=[a[d],a[b]]}return a}function k(a,b,d){a=e.createElement(a);a.className=b;a.innerHTML=d;return a}function A(){function a(d){return 9<d?d:"0"+d}let b=0;c.j=setInterval(function(){q.innerHTML=a(++b%60);r.innerHTML=a(parseInt(b/60,10))},1E3)}function t(){const a=[];for(let b=0;b<h.localStorage.length;b++)a.push(h.localStorage.getItem(h.localStorage.key(b)));a.sort((b,d)=>b.localeCompare(d));
return a}function u(a){v.classList.add("hidden");a=new k("button","btn",a);a.onclick=()=>{B();f.style.display="none";v.classList.remove("hidden")};f.appendChild(a)}function w(){1<c.data.length&&(f.innerHTML+="<h3>Best score: "+c.data.shift()+"</h3>",f.innerHTML+="<h3>Other scores: "+c.data.join(", ")+"</h3>")}function B(){n=p(l.concat(l));n.forEach(a=>{const b=new k("DIV","wrpko",""),d=new k("DIV","korta","");a=new k("DIV","galas "+a,"");const m=new k("DIV","priekis","");b.appendChild(d).appendChild(a);
d.appendChild(m);x.appendChild(b)});g.appendChild(x);A();r.innerHTML=q.innerHTML="00";y.innerHTML=c.h}const l="abcdefgjkl".split("");let n=p(l.concat(l));const x=e.createDocumentFragment(),g=e.getElementById("grid-container"),f=e.getElementById("message"),v=e.getElementById("statistics"),z=e.getElementById("timers"),y=e.getElementById("clicks"),r=e.getElementById("minutes"),q=e.getElementById("seconds"),c={j:0,data:null,i:null,h:0,g:0};e.addEventListener("click",a=>{const b=a.target;if(b.classList.contains("korta")){c.g||
(c.i=a.target);if(2===c.g)return!1;++c.g;const d=.5<=Math.round(Math.random())?"pasukti":"pasukti1";b.className+=" "+d;if(2===c.g)if(c.h+=1,y.innerHTML=c.h,g.style.pointerEvents="none",c.i.firstChild.className===b.firstChild.className)setTimeout(()=>{b.classList.add("blur");c.i.classList.add("blur");c.g=0;g.style.pointerEvents="auto";g.getElementsByClassName("blur").length===n.length&&(clearInterval(c.j),f.innerHTML=`<h2>Your time: ${z.textContent}</h2>`,h.localStorage.setItem(`time${h.localStorage.length+
1}`,z.textContent),c.data=t(),w(),g.innerHTML="",u("Play again"),f.style.display="block",c.h=0)},300);else{let m=setTimeout(()=>{clearTimeout(m);m=0;b.classList.remove(d);c.i.className="korta";c.g=0;g.style.pointerEvents="auto"},900)}}});e.addEventListener("DOMContentLoaded",function(){c.data=t();w();u("Start")})})(window,document);
